package edu.uncc.cci.mobileapps;

import java.util.ArrayList;
import java.util.Collections;
import java.util.Comparator;
import java.util.LinkedList;
import java.util.Map;
import java.util.Map.Entry;
import java.util.TreeMap;

public class MainPart2 {
	/*
	 * Question 2: - In this question you will use the Data.users array that
	 * includes a list of users. Formatted as :
	 * firstname,lastname,age,email,gender,city,state - Create a User class that
	 * should parse all the parameters for each user. - The goal is to count the
	 * number of users living each state. - Print out the list of State, Count order
	 * in ascending order by count.
	 */

	public static void main(String[] args) {
		ArrayList<Users> arrayUsers = new ArrayList<Users>();
		for (String str : Data.users) {
			String[] array = str.split(",");

			Users users = new Users(array[0], array[1], array[2], array[3], array[4], array[5], array[6]);

			arrayUsers.add(users);
		}

		Map<String, Integer> newMap = new TreeMap<String, Integer>();
		for (Users u : arrayUsers) {

			newMap.put(u.state, Collections.frequency(arrayUsers, u));

		}

		
		
		LinkedList<Map.Entry<String, Integer>> list = new LinkedList<>(newMap.entrySet());
		Comparator<Map.Entry<String, Integer>> comparator = Comparator.comparing(Map.Entry::getValue);
		Collections.sort(list, comparator);
		
		System.out.println(list);
		


	}
}